<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Jan 28 16:09:26 CET 2004 -->
<TITLE>
zcthreads Library version 1.3 API Specification: Class  Barrier
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Barrier.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
zcthreads Library version 1.3</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../zc/thread/AbstractSharedQueue.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../zc/thread/Barrier.Rotator.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Barrier.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;<A HREF="#inner_class_summary">INNER</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
zc.thread</FONT>
<BR>
Class  Barrier</H2>
<PRE>
java.lang.Object
  |
  +--<B>zc.thread.Barrier</B>
</PRE>
<HR>
<DL>
<DT> class <B>Barrier</B><DT>extends java.lang.Object</DL>

<P>
Barriers serve as synchronization points for a group of threads that
 must occasionally wait for each other. All threads must arrive at the
 barrier before any of them are permitted to proceed past the barrier.
 <ul>
   <li>A barrier is defined for a given group of <i>participants</i>
     i.e. the group of threads that must meet at the barrier point.
   <li>Participant can echange information at each synchronization point.
   <li>A barrier becomes <i>broken</i> if one or more threads leave
     a barrier point prematurely, generally due to interruption or timeout.
 </ul>
 <p>
 If a Thread which is not a registered participant in the barrier attempts to
 await at the barrier it is rejected with a IllegalMonitorStateException, the
 Barrier is not broken by such a intruder attempt.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->

<A NAME="inner_class_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Inner Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Interface for functions to run at synchronization points.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.Rotator.html">Barrier.Rotator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rotates the array of result objects so that each thread gets the Object
 presented by the thread next to it.</TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#fCommand">fCommand</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../zc/thread/BrokenBarrierException.html">BrokenBarrierException</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#fException">fException</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#fLatestParticipant">fLatestParticipant</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Object[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#fObjectArray">fObjectArray</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the array of objects bring by each participant at synchronization points</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Thread[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#fParticipants">fParticipants</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the array of participants</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#fSpinCounter">fSpinCounter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#Barrier(java.lang.Thread[])">Barrier</A></B>(java.lang.Thread[]&nbsp;inParticipants)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a Barrier object for the given list of participants.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#Barrier(java.lang.Thread[], zc.thread.Barrier.Command)">Barrier</A></B>(java.lang.Thread[]&nbsp;inParticipants,
        <A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A>&nbsp;inCommand)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a Barrier object for the given list of participants.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#await()">await</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter Barrier and wait for the other participants to enter the Barrier at their turn.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#await(java.lang.Object)">await</A></B>(java.lang.Object&nbsp;inObject)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter Barrier and wait for the other participants to enter the Barrier at their turn.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#check_participants()">check_participants</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check that no participant have died since the last time we checked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#enter_waiting()">enter_waiting</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Put a participant Thread into the waiting state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#execute_command()">execute_command</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute the Barrier command when the last participant reach the Barrier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#get_quantum()">get_quantum</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the quantum of time between two consecutives checks of the participant list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#getCommand()">getCommand</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#getLateArrivalCount()">getLateArrivalCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of participant that did not yet reached the Barrier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#getParticipantCount()">getParticipantCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of participants that must meet at the Barrier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#getSpinCounter()">getSpinCounter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of time the Barrier has been reached.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#is_registered_participant(java.lang.Thread)">is_registered_participant</A></B>(java.lang.Thread&nbsp;inAttemptingThread)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check that a given Thread is a registered participant of this Barrier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#isBroken()">isBroken</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the Barrier has been compromised by threads leaving the
 Barrier early (normally due to interruption or timeout).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#release()">release</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release all participants at the Barrier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#release(java.lang.String)">release</A></B>(java.lang.String&nbsp;inMessage)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release all participants at the Barrier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../zc/thread/Barrier.html#setCommand(zc.thread.Barrier.Command)">setCommand</A></B>(<A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A>&nbsp;inCommand)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the command to execute when the last participant reach the Barrier.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><clinit>, clone, equals, finalize, getClass, hashCode, notify, notifyAll, registerNatives, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="fParticipants"><!-- --></A><H3>
fParticipants</H3>
<PRE>
protected final java.lang.Thread[] <B>fParticipants</B></PRE>
<DL>
<DD>the array of participants</DL>
<HR>

<A NAME="fObjectArray"><!-- --></A><H3>
fObjectArray</H3>
<PRE>
protected final java.lang.Object[] <B>fObjectArray</B></PRE>
<DL>
<DD>the array of objects bring by each participant at synchronization points</DL>
<HR>

<A NAME="fLatestParticipant"><!-- --></A><H3>
fLatestParticipant</H3>
<PRE>
protected int <B>fLatestParticipant</B></PRE>
<DL>
</DL>
<HR>

<A NAME="fCommand"><!-- --></A><H3>
fCommand</H3>
<PRE>
protected <A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A> <B>fCommand</B></PRE>
<DL>
</DL>
<HR>

<A NAME="fException"><!-- --></A><H3>
fException</H3>
<PRE>
protected <A HREF="../../zc/thread/BrokenBarrierException.html">BrokenBarrierException</A> <B>fException</B></PRE>
<DL>
</DL>
<HR>

<A NAME="fSpinCounter"><!-- --></A><H3>
fSpinCounter</H3>
<PRE>
private int <B>fSpinCounter</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Barrier(java.lang.Thread[])"><!-- --></A><H3>
Barrier</H3>
<PRE>
public <B>Barrier</B>(java.lang.Thread[]&nbsp;inParticipants)</PRE>
<DL>
<DD>Construct a Barrier object for the given list of participants.
 No command will be run a synchronization points.
 <p><i>The participant list should contains at least two participants.</i></DL>
<HR>

<A NAME="Barrier(java.lang.Thread[], zc.thread.Barrier.Command)"><!-- --></A><H3>
Barrier</H3>
<PRE>
public <B>Barrier</B>(java.lang.Thread[]&nbsp;inParticipants,
               <A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A>&nbsp;inCommand)</PRE>
<DL>
<DD>Construct a Barrier object for the given list of participants.
 The given command will be run a synchronization points.
 <p><i>The participant list should contains at least two participants.</i></DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getCommand()"><!-- --></A><H3>
getCommand</H3>
<PRE>
public <A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A> <B>getCommand</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="setCommand(zc.thread.Barrier.Command)"><!-- --></A><H3>
setCommand</H3>
<PRE>
public void <B>setCommand</B>(<A HREF="../../zc/thread/Barrier.Command.html">Barrier.Command</A>&nbsp;inCommand)</PRE>
<DL>
<DD>Set the command to execute when the last participant reach the Barrier.
 The Command is executed exactly once, by the last Participant Thread
 that reach the Barrier. The Command is not executed if the Barrier is broken.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inCommand</CODE> - the command to execute. If null, no command will be executed.</DL>
</DD>
</DL>
<HR>

<A NAME="getParticipantCount()"><!-- --></A><H3>
getParticipantCount</H3>
<PRE>
public int <B>getParticipantCount</B>()</PRE>
<DL>
<DD>Return the number of participants that must meet at the Barrier.
 The number of participants is always at least 1.<DD><DL>
<DT><B>Returns:</B><DD>an int.</DL>
</DD>
</DL>
<HR>

<A NAME="getLateArrivalCount()"><!-- --></A><H3>
getLateArrivalCount</H3>
<PRE>
public int <B>getLateArrivalCount</B>()</PRE>
<DL>
<DD>Get the number of participant that did not yet reached the Barrier.
 <p><i>NOTE: when the last of these late arrival will reach the Barrier,
 then the Barrier will be notified.</i><DD><DL>
<DT><B>Returns:</B><DD>an int.</DL>
</DD>
</DL>
<HR>

<A NAME="isBroken()"><!-- --></A><H3>
isBroken</H3>
<PRE>
public boolean <B>isBroken</B>()</PRE>
<DL>
<DD>Returns true if the Barrier has been compromised by threads leaving the
 Barrier early (normally due to interruption or timeout).
 <p><i>NOTE: Barrier methods throw BrokenBarrierException upon detection of breakage.</i></DL>
<HR>

<A NAME="getSpinCounter()"><!-- --></A><H3>
getSpinCounter</H3>
<PRE>
public int <B>getSpinCounter</B>()</PRE>
<DL>
<DD>Return the number of time the Barrier has been reached.</DL>
<HR>

<A NAME="await()"><!-- --></A><H3>
await</H3>
<PRE>
public void <B>await</B>()
           throws java.lang.InterruptedException,
                  <A HREF="../../zc/thread/BrokenBarrierException.html">BrokenBarrierException</A></PRE>
<DL>
<DD>Enter Barrier and wait for the other participants to enter the Barrier at their turn.<DD><DL>
<DT><B>Throws:</B><DD><CODE>java.lang.InterruptedException</CODE> - if this thread is interrupted while waiting.<DD><CODE><A HREF="../../zc/thread/BrokenBarrierException.html">BrokenBarrierException</A></CODE> - if the Barrier is broken while this thread is waiting.<DD><CODE>java.lang.RuntimeException</CODE> - throw at an unregistered thread that attempt to
 penetrate the Barrier. Only the faulty thread receive this exception and the Barrier
 is not broken by such an illegal attempt.</DL>
</DD>
</DL>
<HR>

<A NAME="await(java.lang.Object)"><!-- --></A><H3>
await</H3>
<PRE>
public java.lang.Object <B>await</B>(java.lang.Object&nbsp;inObject)
                       throws java.lang.InterruptedException,
                              <A HREF="../../zc/thread/BrokenBarrierException.html">BrokenBarrierException</A></PRE>
<DL>
<DD>Enter Barrier and wait for the other participants to enter the Barrier at their turn.<DD><DL>
<DT><B>Returns:</B><DD>the Object affected to this Thread by the Command executed at the synchronization point.<DT><B>Throws:</B><DD><CODE>java.lang.InterruptedException</CODE> - if this thread is interrupted while waiting.<DD><CODE><A HREF="../../zc/thread/BrokenBarrierException.html">BrokenBarrierException</A></CODE> - if the Barrier is broken while this thread is waiting.<DD><CODE>java.lang.RuntimeException</CODE> - throw at an unregistered thread that attempt to
 penetrate the Barrier. Only the faulty thread receive this exception and the Barrier
 is not broken by such an illegal attempt.</DL>
</DD>
</DL>
<HR>

<A NAME="release()"><!-- --></A><H3>
release</H3>
<PRE>
public void <B>release</B>()</PRE>
<DL>
<DD>Release all participants at the Barrier.
 All participants - waiting and late - will receive a BrokenBarrierException
 indicating that the Barrier synchronization has been broken.</DL>
<HR>

<A NAME="release(java.lang.String)"><!-- --></A><H3>
release</H3>
<PRE>
public void <B>release</B>(java.lang.String&nbsp;inMessage)</PRE>
<DL>
<DD>Release all participants at the Barrier.
 All participants - those waiting and those still late - will receive a
 BrokenBarrierException indicating that the Barrier synchronization has been broken.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inMessage</CODE> - the message bear by the generated BrokenBarrierException.</DL>
</DD>
</DL>
<HR>

<A NAME="enter_waiting()"><!-- --></A><H3>
enter_waiting</H3>
<PRE>
protected void <B>enter_waiting</B>()
                      throws java.lang.InterruptedException,
                             <A HREF="../../zc/thread/BrokenBarrierException.html">BrokenBarrierException</A></PRE>
<DL>
<DD>Put a participant Thread into the waiting state.
 The participant Thread will goes out of the waiting state once the last
 participant reach the Barrier or the Barrier is released.</DL>
<HR>

<A NAME="get_quantum()"><!-- --></A><H3>
get_quantum</H3>
<PRE>
protected long <B>get_quantum</B>()</PRE>
<DL>
<DD>Get the quantum of time between two consecutives checks of the participant list.<DD><DL>
<DT><B>Returns:</B><DD>a long.</DL>
</DD>
</DL>
<HR>

<A NAME="execute_command()"><!-- --></A><H3>
execute_command</H3>
<PRE>
protected void <B>execute_command</B>()</PRE>
<DL>
<DD>Execute the Barrier command when the last participant reach the Barrier.
 This function also provide a safety net around the user provided command
 that prevent unexpected and uncatched exceptions to bring SNAFU.</DL>
<HR>

<A NAME="is_registered_participant(java.lang.Thread)"><!-- --></A><H3>
is_registered_participant</H3>
<PRE>
protected boolean <B>is_registered_participant</B>(java.lang.Thread&nbsp;inAttemptingThread)</PRE>
<DL>
<DD>Check that a given Thread is a registered participant of this Barrier.<DD><DL>
<DT><B>Returns:</B><DD>true if the Thread is a registered participant false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="check_participants()"><!-- --></A><H3>
check_participants</H3>
<PRE>
protected void <B>check_participants</B>()</PRE>
<DL>
<DD>Check that no participant have died since the last time we checked.
 Since a dead Thread is unlikely to reach the Barrier we need to check
 periodically for this situation in order to prevent starvation lock.
 (i.e. the other participants will wait indefinitely for the dead
 participant to reach the Barrier).
 If the function detect that a participant died, it release the Barrier.</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Barrier.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
(c) Copyright Zart Colwin, 2000-2003</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../zc/thread/AbstractSharedQueue.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../zc/thread/Barrier.Rotator.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Barrier.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;<A HREF="#inner_class_summary">INNER</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
